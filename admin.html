<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="main-container">

    <!-- ADD EMPLOYEE SECTION -->
    <div class="card">
        <h2>Add Employee</h2>

        <form id="employeeForm">
            <input type="text" id="employeeId" placeholder="Employee ID" required>
            <input type="text" id="fullName" placeholder="Full Name" required>
            <input type="email" id="email" placeholder="Email" required>
            <input type="text" id="phone" placeholder="Phone" required>
            <input type="text" id="department" placeholder="Department" required>
            <input type="number" id="salary" placeholder="Salary" required>

            <button type="submit">Add Employee</button>
        </form>
    </div>

<!-- SEARCH EMPLOYEE SECTION -->
<div class="card">
    <h2>Search Employee</h2>

    <input type="text" id="searchName" placeholder="Search by Name">
    <input type="text" id="searchId" placeholder="Search by Employee ID">

    <button onclick="searchEmployee()">Search</button>

    <div id="result"></div>
</div>

<script>

// ADD EMPLOYEE
document.getElementById("employeeForm").addEventListener("submit", async function(e){
    e.preventDefault();

    const data = {
        employeeId: document.getElementById("employeeId").value,
        fullName: document.getElementById("fullName").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        department: document.getElementById("department").value,
        salary: document.getElementById("salary").value
    };

    const response = await fetch("http://localhost:5000/add-employee", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    });

    const result = await response.json();
    alert(result.message);
});


// SEARCH EMPLOYEE
async function searchEmployee() {
    const name = document.getElementById("searchName").value.trim();
    const employeeId = document.getElementById("searchId").value.trim();

    const params = new URLSearchParams();

    if (name) params.append("name", name);
    if (employeeId) params.append("employeeId", employeeId);

    const response = await fetch(`http://localhost:5000/search?${params.toString()}`);
    const resultDiv = document.getElementById("result");

    if (response.status === 404) {
        resultDiv.innerHTML = "<p>Employee Not Found</p>";
        return;
    }

    const data = await response.json();

    resultDiv.innerHTML = `
        <p><b>ID:</b> ${data.employeeId}</p>
        <p><b>Name:</b> ${data.fullName}</p>
        <p><b>Email:</b> ${data.email}</p>
        <p><b>Phone:</b> ${data.phone}</p>
        <p><b>Department:</b> ${data.department}</p>
        <p><b>Salary:</b> â‚¹${data.salary}</p>
    `;
}


const snake = document.querySelector(".snake");
const hii = document.querySelector(".hii-sticker");

function checkCollision() {
    const snakeRect = snake.getBoundingClientRect();
    const hiiRect = hii.getBoundingClientRect();

    if (
        snakeRect.left < hiiRect.right &&
        snakeRect.right > hiiRect.left &&
        snakeRect.top < hiiRect.bottom &&
        snakeRect.bottom > hiiRect.top
    ) {
        hii.style.background = "red";
        hii.style.transform = "scale(1.3)";
        hii.innerHTML = "ðŸ˜± Ouch!";
    }
}

// Check collision continuously
setInterval(checkCollision, 100);



</script>
<div class="snake"></div>
<div class="hii-header">Hii ðŸ‘‹</div>


</body>
</html>
